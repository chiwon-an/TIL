## GIT : 분산 버전 관리 시스템

- **버전**을 관리? 변화를 기록하고 추적하는 것
  - 각 버전은 이전 버전으로부터의 변경사항을 기록하고 있음
    - EX) 버전3은 전체 내용을 모두 포함하고 있지 않음

  - 코드 버전관리는 무조건 해야된다.

- GIT은 버전 관리를 알아서 해준다.

- **분산** : 내 컴퓨터 안에 변경사항을 저장한 파일이 생성됨.
  - 중앙 집중식 : 회사 중앙서버에 완성본이 있고, 이를 A, B 가 복제해서 작업하는 식으로 했음
    - 버전은 회사 서버에 있었음. -> 토이스토리에서 불이남.
    - A, B가 각자 수정해서 원본에 넣어주는데 서로 오류가 나게됨.

  - 분산 : 원래 있던 곳에 버전 정보를 기록함. 숨김폴더에서 각 파일들의 변동사항을 기록해 둠.
    - 집에가서 변경사항이 기록 되어있는 폴더만 다운로드
    - A, B가 똑같은 파일을 각자 수정했더라도, 버전으로써 기록이 됨. -> 원본은 그대로 보존이 됨.

git : **협업도구**

git의 **3가지 영역**
1. Working DIrectory : 작업중(변경사항을 기록도 안함)

2. Staging Area : 기록 예상 # 워킹 디렉토리에서 변경된 파일 중, 다음 버전에 포함시킬 파일들을 선택적으로  추가하거나 제외할 수 있는 중간 준비 영역(여기서 변동사항은 git이 기록함)

3. Repository : 저장소 : 버전 이력과 파일들이 영구적으로 저장되는 영역 / 모든 버전과 변경 이력이 기록됨


버전 1 : 오늘 수업 내용(01_git) / 로그인 기능이 추가된 버전
버전 2 : 


워킹디렉토리에서 코드를 다 친다!

기능들을 2번째에 기록

첫 번쨰 버전에 가져갈 기능들만 버전 1로 저장

그러면 2번째에 있던 것들을 삭제 (다음 버전을 위하여)

### commit : 버전 (저장하는 행위)

이미 두 번째에 올려놨는데, 바뀌면 다시 add해줘야 됨.

원격 저장소 : 드라이브에 업로드해서 관리하는 것.

github : portpolio / 실력 증명할 공간 / public / 모든 걸 다 볼 수 있음 / 얼마나 자주 / 어떤 공부를 했는지

gitlab : 계정은 이미 배정됨 / ssafy 과제 제출공간 / private / 한 집단 설정가능 / 초대인원 /
         자기가 만든 것만 볼 수 있음 / 내껄 보여줄려면 멤버로 초대 해야됨

ssafy의 자잘자잘한 것들은 ssafy의 이름을 때고 넣으면 낫배드

Today I Learned : 매일매일 배운 것들을 저장하는 파일

이제부터 push만 해줘도 됨
git push origin master

add - commit - push

## 핵심정리

### GIT 사용순서
1. 파일 생성
2. 파일을 init 기능으로 `git init`으로 관리(최초 생성시 한 번만 클론 파일은 안해줘도 됨.)
3. 파일 작업
4. 파일이 어느 정도 작업이 됐다? 그럼 `git add 파일이름`으로 (임시저장) 
5. 파일이 다 완성된 것 같아 ! 그럼 `git commit -m "git내용정리"`
6. 오늘 할 일 끝 !  그러면 github로 `git push origin master`

### 추가적인 기능
- `git status` : 로컬 저장소의 파일 상태를 확인(Working DIrectory, Staging Area, Repository에 뭐가 있는지)
- `cd ../..` : 파일 위치를 변경
- `git config --global user.name "안치원"` : 수정자 이름 표시(한 번만 설정)
- `git config --global user.email "bluesun7248@naver.com"` : 수정자 이메일 표시(한 번만 설정)
- `git log` : commit 목록확인
- `git remote add origin 내 깃허브 주소` : 내 깃허브 주소 등록
- `git remote -v` : 등록된 원격 저장소 목록확인
- `git clone` : 한 번만 클론 해주고 그 다음에는 pull로 해도됨.(효율적)
- `git pull` : 한 번만 클론 해주고 그 다음에는 pull로 해도됨.(효율적)

---
## 2일차
- commit 하는 메시지가 중요하다.(나중에 수정을 위해)
- git으로 관리하고 있는 폴더가 있고, 그 안에 파일을 다른 깃으로 관리하고 있는 폴더로 옮길 때 커밋정보까지 같이 갈 수가 없다. (git으로 관리되기 때문)
- 깃에다가 관리하고, 그 안의 하위폴더도 깃으로 관리할 수 있긴함.(따로 별도 원격 저장소로 업로드 해야됨)(서브 모듈)(이렇게 하지 말아라)
- 꼬였을 때, 과제 제출을 했는데 꼬였으면, 그 파일을 바탕화면에 옮기고 삭제된 걸 다시 푸시 / 그리고 난 뒤 파일을 다시 폴더에 넣고 하위 git파일 삭제 후 재 푸쉬

- 삭제가 안 돼요 -> 권한 문제 -> shift + delete로 삭제 (강제 삭제) (**복구 X**)
- 강사님 파일에서 내 파일로 옮길 때는 이동이 아니라 **무조건 복사 붙여넣기**
- 깃은 이렇게 쓰라고 만든 건 아니고, 오직 자료를 공유해주기 위해서 이렇게 한 것임.
- 올바른 사용방법 : 공통파일을 여러명이서 같이 수정하기
- commit 할 때 모르고 메세지를 안 적었으면, `:q`작성 (나가짐)
- vim : unix환경에서 하면 볼 수 밖에 없음. - 커밋매세지를 적어달라는 거임
- push 가 안되는 경우 : git push origin master : 내 컴퓨터 커밋 내역과 push할려는 원격 저장소의 커밋 내역이 서로 다를 때 문제가 발생 / 이런 문제는 왜 발생?
  - 그러면 원격저장소에 있던 커밋내역을 로컬로 pull로 가져오게 만들어라. 그 후 `:q`로 나오기 그러면 두 개를 합친 새로운 버전이 생김
  - push는 안되고 왜 pull은 되냐? -> 원격저장소에선 파일 수정이 어렵고, 로컬 저장소는 파일 수정이 쉬움.
  - 
- 원격 저장소 : 인터넷  / 로컬 저장소 : 컴퓨터

### ** branch ** = 또 다른 작업 공간을 만들어 주는 것

- 하나의 원격저장소에서 여러명이 작업할 수 있음
- 장점 : 독립된 개발 환경을 형성해줌.
- 하나의 작업은 하나의 브랜치로 나누어 진행(ex 로그인, 게시물 등)
- 누구는 로그인 작업만 커밋하고 싶어. 누구는 게시판만 커밋하고 싶어.
- 10개가 넘는 파일을 어떻게 하나하나 add해주고 있음? -> CLI에 브랜치를 하면 바로 만들어 줌.
- Fast -forward merge : 빨리감기?
- 두 번째 해리꺼를 가져올 때는 merfe branch 가 되냐? -> 
- git log --oneline --graph -> 명령어 or 오른쪽 그래프
- 마스터가 빅터꺼를 가져왔어 -> 그럼 마스터가 위로만 가주면 됨 : fastforward
- 할 일이 끝나면 브랜치 삭제
- 해리가 만약에 어떤 작업을 하고 있고, 그 이후에 

- `git clone 링크` 원격 저장소에 있는 것을 클론으로 다운
- `git branch  브랜치 이름 `브랜치 생성 후 작업실시
- 작업이 끝나면 add / commit / push 실시
- 그러면 원격 저장소에 내가 작업한 것들이 올라감
- 작업한게 올라가면 merge request실시
- 그러면 팀장이 보고 음... 머지 고! 이러면 머지실시
- 머지 실시되고, 팀원들의 머지 할만한 것들이 다 머지가 되면, local에서 master을 pull받는다.
- 개인 branch 삭제!

- 두 팀원이 같은 파일 같은 줄 수정
- 하나는 머지 가능
- 뒤에 하는 한 개도 머지를 한다면 누구꺼가 맞는 건지 결정하는 단계가 필요함.
- 우리에게 선택지를 줌 -> 클릭을 할 수 있게 해줌.
- 컴플리트가 발생하는 사실을 놓칠 수가 있음 -> 침착하게 천천히 보고 넘어가기? -> 

### 로컬에서 충돌 해결하는 법
- 로컬의 마스터 최신화 **마스터로 !!!!** `git pull`
- 여기까지도 여전히 빅터는 최신본이 없음.
- 따라서 **빅터로 !!!!!** `git merge master`
- 빅터가 마스터랑 머지시켜서 로컬에서 충돌해결하기. `git pull origin master`
- 충돌해결
- `git add`
- `git commit -m "충돌해결"`
- `git push`
- 팀장이 머지
- master로 `git pull`

### Git workflow
- 원격 저장소를 활용해 다른 사용자와 협업하는 방법

1. master 브랜치는 아무도 수정하지 않는다.
2. master 브랜치는 최초 설정(모든 팀원이 함께 쓸 내용 생성시만 사용)
  - git add . git commit . git push
3. develop ( 혹은 dev) 브랜치를 생성한다.

ex) 마스터가 있고, 마스터 dev 브랜치가 있음.
마스터 dev에서 브랜치를 설치해서 각자 작업해. 

1. 팀장이 새 레포지토리를 생성한다.
2. 팀원을 초대한다.
3. 팀장은 clone 받은 뒤, develop 브랜치를 생성하고, develop 브랜치에서 settings.py를 만들어서 push한다.
   - 단, merge request는 하지 않는다.
4. 팀원은 master를 클론 받은 뒤, 로컬에서 develop브랜치를 생성하고, develop브랜치에서 git pull origin develop을 진행한다.
   그 후에, 개인 브랜치를 생성한다.
   개인 브랜치에서 settings.py를 수정하거나 새로운 파일을 생성하고, push origin 개인브랜치, merge request 수행
5. 팀장은 팀원이 MR 남겼다고 하면, Merge develop에 시도한다.
  - 시도해서 성공하면? merge 완료했다고 알리고 하던 일 마저한다.
  - 시도해서 실패하면? MR 보낸 사람에게 conflict 해결하고 다시 MR보내라고 한다.
    - 기왕이면 어디서 문제 발생한지도 알려주거나
6. 팀원 1 혹은 2는 MR 발생 후, 팀장이 merge 했다고 알리면, 
   **본인 브랜치**에서 `git pull origin develop`을 해서, 추가 작업을 진행하거나
   develop 브랜치에서 pull 받은 뒤, 본인 브랜치에서 merge develop을 한다. 